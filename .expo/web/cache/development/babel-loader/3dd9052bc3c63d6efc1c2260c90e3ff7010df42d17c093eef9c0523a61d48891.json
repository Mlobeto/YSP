{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport Welcome from \"./src/screens/Welcome\";\nimport Registration from \"./src/screens/Registration\";\nimport SignIn from \"./src/screens/SignIn\";\nimport VerEpisodios from \"./src/screens/VerEpisodios\";\nimport HomeScreen from \"./src/screens/HomeScreen\";\nimport MasRecursos from \"./src/screens/MasRecursos\";\nimport ListasPrimerosPasos from \"./src/screens/ListasPrimerosPasos\";\nimport ListasUltimosPasos from \"./src/screens/ListasUltimosPasos\";\nimport ListasEspeciales from \"./src/screens/ListasEspeciales\";\nimport Formulario from \"./src/screens/Formulario\";\nimport Reproductor from \"./src/screens/Reproductor\";\nimport VideosListasSeleccionados from \"./src/screens/VideosListasSeleccionados\";\nimport Favoritos from \"./src/screens/Favoritos\";\nimport { auth } from \"./FirebaseConfig\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Stack = createStackNavigator();\nvar AuthenticatedUserContext = createContext({\n  user: null,\n  setUser: function setUser() {}\n});\nvar AuthenticatedUserProvider = function AuthenticatedUserProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  useEffect(function () {\n    console.log(\"Checking user authentication...\");\n    var unsubscribe = onAuthStateChanged(auth, function () {\n      var _ref2 = _asyncToGenerator(function* (authenticatedUser) {\n        try {\n          console.log(\"onAuthStateChanged triggered\");\n          setUser(authenticatedUser || null);\n        } catch (error) {\n          console.error(\"Error in onAuthStateChanged:\", error);\n          setUser(null);\n        }\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n    return function () {\n      console.log(\"Unsubscribing from onAuthStateChanged\");\n      unsubscribe();\n    };\n  }, []);\n  return _jsx(AuthenticatedUserContext.Provider, {\n    value: {\n      user: user,\n      setUser: setUser\n    },\n    children: children\n  });\n};\nfunction YSPApp() {\n  return _jsx(Stack.Navigator, {\n    initialRouteName: \"Welcome\",\n    children: _jsx(Stack.Screen, {\n      name: \"Welcome\",\n      component: Welcome\n    })\n  });\n}\nfunction AuthStack() {\n  return _jsxs(Stack.Navigator, {\n    children: [_jsx(Stack.Screen, {\n      name: \"SignIn\",\n      component: SignIn\n    }), _jsx(Stack.Screen, {\n      name: \"Welcome\",\n      component: Welcome\n    }), _jsx(Stack.Screen, {\n      name: \"Registration\",\n      component: Registration\n    }), _jsx(Stack.Screen, {\n      name: \"VerEpisodios\",\n      component: VerEpisodios\n    }), _jsx(Stack.Screen, {\n      name: \"HomeScreen\",\n      component: HomeScreen\n    }), _jsx(Stack.Screen, {\n      name: \"ListasPrimerosPasos\",\n      component: ListasPrimerosPasos\n    }), _jsx(Stack.Screen, {\n      name: \"ListasUltimosPasos\",\n      component: ListasUltimosPasos\n    }), _jsx(Stack.Screen, {\n      name: \"ListasEspeciales\",\n      component: ListasEspeciales\n    }), _jsx(Stack.Screen, {\n      name: \"MasRecursos\",\n      component: MasRecursos\n    }), _jsx(Stack.Screen, {\n      name: \"Formulario\",\n      component: Formulario\n    }), _jsx(Stack.Screen, {\n      name: \"Reproductor\",\n      component: Reproductor\n    }), _jsx(Stack.Screen, {\n      name: \"VideosListasSeleccionados\",\n      component: VideosListasSeleccionados\n    }), _jsx(Stack.Screen, {\n      name: \"Favoritos\",\n      component: Favoritos\n    })]\n  });\n}\nexport default function App() {\n  var _useContext = useContext(AuthenticatedUserContext),\n    user = _useContext.user,\n    setUser = _useContext.setUser;\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  useEffect(function () {\n    console.log(\"Checking user authentication...\");\n    var unsubscribe = onAuthStateChanged(auth, function (authenticatedUser) {\n      try {\n        console.log(\"onAuthStateChanged triggered\");\n        setUser(authenticatedUser || null);\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error in onAuthStateChanged:\", error);\n        setUser(null);\n        setLoading(false);\n      }\n    });\n    return function () {\n      console.log(\"Unsubscribing from onAuthStateChanged\");\n      unsubscribe();\n    };\n  }, []);\n  if (loading) {\n    return _jsx(View, {\n      style: {\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: _jsx(ActivityIndicator, {\n        size: \"large\"\n      })\n    });\n  }\n  return _jsx(AuthenticatedUserProvider, {\n    children: _jsx(NavigationContainer, {\n      children: user ? _jsx(YSPApp, {}) : _jsx(AuthStack, {})\n    })\n  });\n}","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","View","ActivityIndicator","NavigationContainer","createStackNavigator","onAuthStateChanged","Welcome","Registration","SignIn","VerEpisodios","HomeScreen","MasRecursos","ListasPrimerosPasos","ListasUltimosPasos","ListasEspeciales","Formulario","Reproductor","VideosListasSeleccionados","Favoritos","auth","jsx","_jsx","jsxs","_jsxs","Stack","AuthenticatedUserContext","user","setUser","AuthenticatedUserProvider","_ref","children","_useState","_useState2","_slicedToArray","console","log","unsubscribe","_ref2","_asyncToGenerator","authenticatedUser","error","_x","apply","arguments","Provider","value","YSPApp","Navigator","initialRouteName","Screen","name","component","AuthStack","App","_useContext","_useState3","_useState4","loading","setLoading","style","flex","justifyContent","alignItems","size"],"sources":["C:/Users/merce/Desktop/NuevoYoSoyElPremio/NYSP/App.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { View, ActivityIndicator } from \"react-native\";\r\nimport { NavigationContainer } from \"@react-navigation/native\";\r\nimport { createStackNavigator } from \"@react-navigation/stack\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport Welcome from \"./src/screens/Welcome\";\r\nimport Registration from \"./src/screens/Registration\";\r\nimport SignIn from \"./src/screens/SignIn\";\r\nimport VerEpisodios from \"./src/screens/VerEpisodios\";\r\nimport HomeScreen from './src/screens/HomeScreen'\r\nimport MasRecursos from \"./src/screens/MasRecursos\";\r\nimport ListasPrimerosPasos from './src/screens/ListasPrimerosPasos' \r\nimport ListasUltimosPasos from './src/screens/ListasUltimosPasos'\r\nimport ListasEspeciales from './src/screens/ListasEspeciales'\r\nimport Formulario from \"./src/screens/Formulario\";\r\nimport Reproductor from \"./src/screens/Reproductor\";\r\nimport VideosListasSeleccionados from \"./src/screens/VideosListasSeleccionados\";\r\nimport Favoritos from \"./src/screens/Favoritos\";\r\n\r\n\r\nimport { auth } from \"./FirebaseConfig\";\r\n\r\n\r\n\r\nconst Stack = createStackNavigator();\r\n\r\nconst AuthenticatedUserContext = createContext({ user: null, setUser: () => {} });\r\n\r\nconst AuthenticatedUserProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Checking user authentication...\");\r\n\r\n    const unsubscribe = onAuthStateChanged(auth, async (authenticatedUser) => {\r\n      try {\r\n        console.log(\"onAuthStateChanged triggered\");\r\n        setUser(authenticatedUser || null);\r\n      } catch (error) {\r\n        console.error(\"Error in onAuthStateChanged:\", error);\r\n        setUser(null);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      console.log(\"Unsubscribing from onAuthStateChanged\");\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <AuthenticatedUserContext.Provider value={{ user, setUser }}>\r\n      {children}\r\n    </AuthenticatedUserContext.Provider>\r\n  );\r\n};\r\n\r\nfunction YSPApp() {\r\n  return (\r\n    <Stack.Navigator initialRouteName=\"Welcome\">\r\n      <Stack.Screen name=\"Welcome\" component={Welcome} />\r\n    </Stack.Navigator>\r\n  );\r\n}\r\n\r\n\r\nfunction AuthStack() {\r\n  return(\r\n  <Stack.Navigator >\r\n     <Stack.Screen name=\"SignIn\" component={SignIn} /> \r\n     <Stack.Screen name=\"Welcome\" component={Welcome} />\r\n     <Stack.Screen name=\"Registration\" component={Registration} />\r\n     <Stack.Screen name=\"VerEpisodios\" component={VerEpisodios} />\r\n     <Stack.Screen name=\"HomeScreen\" component={HomeScreen} />\r\n     <Stack.Screen name=\"ListasPrimerosPasos\" component={ListasPrimerosPasos} /> \r\n     <Stack.Screen name=\"ListasUltimosPasos\" component={ListasUltimosPasos} />\r\n     <Stack.Screen name=\"ListasEspeciales\" component={ListasEspeciales} />\r\n     <Stack.Screen name=\"MasRecursos\" component={MasRecursos} />\r\n     <Stack.Screen name=\"Formulario\" component={Formulario}/>\r\n     <Stack.Screen name=\"Reproductor\" component={Reproductor}/>\r\n     <Stack.Screen name=\"VideosListasSeleccionados\" component={VideosListasSeleccionados}/>\r\n     <Stack.Screen name=\"Favoritos\" component={Favoritos}/>\r\n  </Stack.Navigator>\r\n)}\r\n\r\nexport default function App() {\r\n  const { user, setUser } = useContext(AuthenticatedUserContext);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Checking user authentication...\");\r\n    const unsubscribe = onAuthStateChanged(auth, (authenticatedUser) => {\r\n      try {\r\n        console.log(\"onAuthStateChanged triggered\");\r\n        setUser(authenticatedUser || null);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error(\"Error in onAuthStateChanged:\", error);\r\n        setUser(null);\r\n        setLoading(false);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      console.log(\"Unsubscribing from onAuthStateChanged\");\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}>\r\n        <ActivityIndicator size=\"large\" />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AuthenticatedUserProvider>\r\n      <NavigationContainer>\r\n        {user ? <YSPApp /> : <AuthStack />}\r\n      </NavigationContainer>\r\n    </AuthenticatedUserProvider>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}