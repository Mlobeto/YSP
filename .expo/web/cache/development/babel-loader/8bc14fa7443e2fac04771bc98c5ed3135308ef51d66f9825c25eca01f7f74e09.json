{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { GiftedChat } from 'react-native-gifted-chat';\nimport { auth, database } from \"../../../FirebaseConfig\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar ArgChat = function ArgChat(_ref) {\n  var route = _ref.route;\n  var country = route.params.country;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    messages = _useState2[0],\n    setMessages = _useState2[1];\n  useEffect(function () {\n    var chatRoomRef = database.collection('chatRooms').doc(country);\n    var unsubscribe = chatRoomRef.onSnapshot(function (snapshot) {\n      var data = snapshot.data();\n      if (data && data.messages) {\n        setMessages(data.messages);\n      }\n    });\n    return function () {\n      unsubscribe();\n    };\n  }, [country]);\n  var onSend = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var newMessages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var chatRoomRef = database.collection('chatRooms').doc(country);\n      yield chatRoomRef.update({\n        messages: [].concat(_toConsumableArray(messages), _toConsumableArray(newMessages))\n      });\n    });\n    return function onSend() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(GiftedChat, {\n    messages: messages,\n    onSend: onSend\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  innerContainer: {\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'white',\n    borderTopLeftRadius: 80,\n    marginTop: -68,\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: 6,\n    paddingHorizontal: 6,\n    paddingBottom: 6,\n    flexDirection: 'column'\n  },\n  logo: {\n    height: 100,\n    width: 100,\n    marginTop: 20\n  }\n});\nexport default ArgChat;","map":{"version":3,"names":["React","useEffect","useState","StyleSheet","GiftedChat","auth","database","jsx","_jsx","ArgChat","_ref","route","country","params","_useState","_useState2","_slicedToArray","messages","setMessages","chatRoomRef","collection","doc","unsubscribe","onSnapshot","snapshot","data","onSend","_ref2","_asyncToGenerator","newMessages","arguments","length","undefined","update","concat","_toConsumableArray","apply","styles","create","container","flex","alignItems","justifyContent","innerContainer","width","height","backgroundColor","borderTopLeftRadius","marginTop","paddingTop","paddingHorizontal","paddingBottom","flexDirection","logo"],"sources":["C:/Users/merce/Desktop/NuevoYoSoyElPremio/NYSP/src/screens/chats/ArgChat.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StyleSheet } from 'react-native-web';\nimport { GiftedChat } from 'react-native-gifted-chat';\nimport { auth, database } from '../../../FirebaseConfig';\n\nconst ArgChat = ({ route }) => {\n  const { country } = route.params;\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n    const chatRoomRef = database.collection('chatRooms').doc(country);\n   \n    const unsubscribe = chatRoomRef.onSnapshot((snapshot) => {\n      const data = snapshot.data();\n      if (data && data.messages) {\n        setMessages(data.messages);\n      }\n    });\n\n  return () => {\n      unsubscribe();\n    };\n  }, [country]);\n\n  const onSend = async (newMessages = []) => {\n    const chatRoomRef = database.collection('chatRooms').doc(country);\n    await chatRoomRef.update({\n      messages: [...messages, ...newMessages],\n    });\n  };\n\n  return <GiftedChat messages={messages} onSend={onSend} />;\n};\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n  },\n  innerContainer: {\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'white',\n    borderTopLeftRadius: 80,\n    marginTop: -68,\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: 6,\n    paddingHorizontal: 6,\n    paddingBottom: 6,\n    flexDirection: 'column',\n  },\n  logo:{\n    height: 100, // Ajusta la altura según tus necesidades\n    width: 100, // Ajusta el ancho según tus necesidades\n    marginTop: 20, // Espacio entre la imagen fondochat y el logo\n\n  }\n});\nexport default ArgChat;\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,UAAA;AAEnD,SAASC,UAAU,QAAQ,0BAA0B;AACrD,SAASC,IAAI,EAAEC,QAAQ;AAAkC,SAAAC,GAAA,IAAAC,IAAA;AAEzD,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAAC,IAAA,EAAkB;EAAA,IAAZC,KAAK,GAAAD,IAAA,CAALC,KAAK;EACtB,IAAQC,OAAO,GAAKD,KAAK,CAACE,MAAM,CAAxBD,OAAO;EACf,IAAAE,SAAA,GAAgCZ,QAAQ,CAAC,EAAE,CAAC;IAAAa,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAE5Bd,SAAS,CAAC,YAAM;IACd,IAAMkB,WAAW,GAAGb,QAAQ,CAACc,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAACT,OAAO,CAAC;IAEjE,IAAMU,WAAW,GAAGH,WAAW,CAACI,UAAU,CAAC,UAACC,QAAQ,EAAK;MACvD,IAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAI,CAAC,CAAC;MAC5B,IAAIA,IAAI,IAAIA,IAAI,CAACR,QAAQ,EAAE;QACzBC,WAAW,CAACO,IAAI,CAACR,QAAQ,CAAC;MAC5B;IACF,CAAC,CAAC;IAEJ,OAAO,YAAM;MACTK,WAAW,CAAC,CAAC;IACf,CAAC;EACH,CAAC,EAAE,CAACV,OAAO,CAAC,CAAC;EAEb,IAAMc,MAAM;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,aAA4B;MAAA,IAArBC,WAAW,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;MACpC,IAAMX,WAAW,GAAGb,QAAQ,CAACc,UAAU,CAAC,WAAW,CAAC,CAACC,GAAG,CAACT,OAAO,CAAC;MACjE,MAAMO,WAAW,CAACc,MAAM,CAAC;QACvBhB,QAAQ,KAAAiB,MAAA,CAAAC,kBAAA,CAAMlB,QAAQ,GAAAkB,kBAAA,CAAKN,WAAW;MACxC,CAAC,CAAC;IACJ,CAAC;IAAA,gBALKH,MAAMA,CAAA;MAAA,OAAAC,KAAA,CAAAS,KAAA,OAAAN,SAAA;IAAA;EAAA,GAKX;EAED,OAAOtB,IAAA,CAACJ,UAAU;IAACa,QAAQ,EAAEA,QAAS;IAACS,MAAM,EAAEA;EAAO,CAAE,CAAC;AAC3D,CAAC;AAGD,IAAMW,MAAM,GAAGlC,UAAU,CAACmC,MAAM,CAAC;EAC/BC,SAAS,EAAE;IACTC,IAAI,EAAE,CAAC;IACPC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAClB,CAAC;EACDC,cAAc,EAAE;IACdC,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE,MAAM;IACdC,eAAe,EAAE,OAAO;IACxBC,mBAAmB,EAAE,EAAE;IACvBC,SAAS,EAAE,CAAC,EAAE;IACdR,IAAI,EAAE,CAAC;IACPC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,YAAY;IAC5BO,UAAU,EAAE,CAAC;IACbC,iBAAiB,EAAE,CAAC;IACpBC,aAAa,EAAE,CAAC;IAChBC,aAAa,EAAE;EACjB,CAAC;EACDC,IAAI,EAAC;IACHR,MAAM,EAAE,GAAG;IACXD,KAAK,EAAE,GAAG;IACVI,SAAS,EAAE;EAEb;AACF,CAAC,CAAC;AACF,eAAevC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}