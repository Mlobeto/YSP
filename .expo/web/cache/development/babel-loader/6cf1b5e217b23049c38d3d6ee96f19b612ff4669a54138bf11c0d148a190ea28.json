{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport YoutubePlayer from \"react-native-youtube-iframe\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { auth, database } from \"../../FirebaseConfig\";\nimport { collection, doc, setDoc, getDoc, updateDoc } from \"firebase/firestore\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Reproductor = function Reproductor(_ref) {\n  var route = _ref.route;\n  var item = route.params.item;\n  var navigation = useNavigation();\n  var marcarComoFavorito = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var usuarioActual = auth.currentUser;\n        if (usuarioActual) {\n          var usuarioDocRef = doc(database, \"users\", usuarioActual.uid);\n          var usuarioDoc = yield getDoc(usuarioDocRef);\n          if (!usuarioDoc.exists()) {\n            yield setDoc(usuarioDocRef, {\n              videosFavoritos: [item]\n            });\n            console.log(\"Video marcado como favorito.\");\n          } else {\n            var videosFavoritos = usuarioDoc.data().videosFavoritos || [];\n            if (!videosFavoritos.includes(item)) {\n              videosFavoritos.push(item);\n              yield setDoc(usuarioDocRef, _objectSpread(_objectSpread({}, usuarioDoc.data()), {}, {\n                videosFavoritos: videosFavoritos\n              }));\n              console.log(\"Video marcado como favorito.\");\n            } else {\n              console.log(\"El video ya está marcado como favorito.\");\n            }\n          }\n        } else {\n          console.log(\"Usuario no autenticado.\");\n        }\n      } catch (error) {\n        console.error(\"Error al marcar como favorito:\", error);\n      }\n    });\n    return function marcarComoFavorito() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  if (item) {\n    console.log(\"Item:\", item);\n    return _jsxs(View, {\n      children: [_jsx(YoutubePlayer, {\n        height: 300,\n        play: true,\n        videoId: item\n      }), _jsxs(View, {\n        style: styles.buttonContainer,\n        children: [_jsx(TouchableOpacity, {\n          onPress: marcarComoFavorito,\n          style: styles.button2,\n          children: _jsx(Text, {\n            style: {\n              color: \"white\",\n              fontWeight: \"bold\"\n            },\n            children: \"Marcar como favorito\"\n          })\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.navigate(\"Favoritos\");\n          },\n          style: styles.button1,\n          children: _jsx(Text, {\n            style: {\n              color: \"white\",\n              fontWeight: \"bold\"\n            },\n            children: \"Ver Favoritos\"\n          })\n        })]\n      })]\n    });\n  } else {\n    return _jsx(View, {\n      children: _jsx(Text, {\n        children: \"Cargando Video\"\n      })\n    });\n  }\n};\nexport default Reproductor;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    backgroundColor: \"transparent\"\n  },\n  contentContainer: {\n    paddingHorizontal: 30,\n    marginTop: 50\n  },\n  body: {\n    paddingTop: 40,\n    textAlign: \"center\",\n    fontSize: 16,\n    color: \"#6d6875\",\n    lineHeight: 30,\n    fontWeight: \"400\"\n  },\n  title: {\n    marginTop: 10,\n    fontSize: 27,\n    fontWeight: \"700\",\n    lineHeight: 25,\n    textAlign: \"center\",\n    color: \"#6d6875\"\n  },\n  title2: {\n    fontSize: 23,\n    fontWeight: \"500\",\n    textAlign: \"center\",\n    color: \"#6d6875\",\n    marginBottom: 50\n  },\n  buttonContainer: {\n    flexDirection: \"row\",\n    width: \"100%\",\n    borderWidth: 2,\n    borderColor: \"white\",\n    borderRadius: 16,\n    backgroundColor: \"#DFE3E630\",\n    marginTop: 20\n  },\n  button1: {\n    backgroundColor: \"#26B6F8\",\n    padding: 20,\n    borderRadius: 12,\n    alignItems: \"center\",\n    marginVertical: 30,\n    shadowColor: \"#00b4d8\",\n    shadowOffset: {\n      width: 0,\n      height: 8\n    },\n    shadowOpacity: 0.44,\n    shadowRadius: 10.32\n  },\n  button2: {\n    backgroundColor: \"#00b4d8\",\n    padding: 20,\n    borderRadius: 12,\n    alignItems: \"center\",\n    marginVertical: 30,\n    shadowColor: \"#00b4d8\",\n    shadowOffset: {\n      width: 0,\n      height: 8\n    },\n    shadowOpacity: 0.44,\n    shadowRadius: 10.32\n  },\n  buttonsText: {\n    fontSize: 20,\n    color: \"#030303\"\n  }\n});","map":{"version":3,"names":["React","View","Text","TouchableOpacity","StyleSheet","YoutubePlayer","useNavigation","auth","database","collection","doc","setDoc","getDoc","updateDoc","jsx","_jsx","jsxs","_jsxs","Reproductor","_ref","route","item","params","navigation","marcarComoFavorito","_ref2","_asyncToGenerator","usuarioActual","currentUser","usuarioDocRef","uid","usuarioDoc","exists","videosFavoritos","console","log","data","includes","push","_objectSpread","error","apply","arguments","children","height","play","videoId","style","styles","buttonContainer","onPress","button2","color","fontWeight","navigate","button1","create","container","flex","alignItems","backgroundColor","contentContainer","paddingHorizontal","marginTop","body","paddingTop","textAlign","fontSize","lineHeight","title","title2","marginBottom","flexDirection","width","borderWidth","borderColor","borderRadius","padding","marginVertical","shadowColor","shadowOffset","shadowOpacity","shadowRadius","buttonsText"],"sources":["C:/Users/merce/Desktop/NuevoYoSoyElPremio/NYSP/src/screens/Reproductor.js"],"sourcesContent":["import React from \"react\";\nimport { View, Text, TouchableOpacity, StyleSheet } from \"react-native\";\nimport YoutubePlayer from \"react-native-youtube-iframe\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { auth, database } from \"../../FirebaseConfig\";\nimport { collection, doc, setDoc, getDoc, updateDoc } from \"firebase/firestore\";\n\nconst Reproductor = ({ route }) => {\n  const { item } = route.params;\n  const navigation = useNavigation();\n\n  const marcarComoFavorito = async () => {\n    try {\n      const usuarioActual = auth.currentUser;\n  \n      if (usuarioActual) {\n        const usuarioDocRef = doc(database, \"users\", usuarioActual.uid);\n        const usuarioDoc = await getDoc(usuarioDocRef);\n  \n        if (!usuarioDoc.exists()) {\n          // Si no existe, crea un nuevo documento para el usuario\n          await setDoc(usuarioDocRef, {\n            videosFavoritos: [item],\n          });\n          console.log(\"Video marcado como favorito.\");\n        } else {\n          // Si el documento ya existe, actualiza el array de videosFavoritos\n          const videosFavoritos = usuarioDoc.data().videosFavoritos || [];\n  \n          if (!videosFavoritos.includes(item)) {\n            // Agrega el nuevo video al array de favoritos si aún no está presente\n            videosFavoritos.push(item);\n  \n            // Actualiza la colección de favoritos en Firestore\n            await setDoc(usuarioDocRef, {\n              ...usuarioDoc.data(),  // Mantén los demás datos del usuario\n              videosFavoritos: videosFavoritos,\n            });\n  \n            console.log(\"Video marcado como favorito.\");\n          } else {\n            console.log(\"El video ya está marcado como favorito.\");\n          }\n        }\n      } else {\n        console.log(\"Usuario no autenticado.\");\n      }\n    } catch (error) {\n      console.error(\"Error al marcar como favorito:\", error);\n    }\n  };\n  \n  \n\n  if (item) {\n    console.log(\"Item:\", item);\n\n    return (\n      <View>\n        <YoutubePlayer height={300} play={true} videoId={item} />\n        <View style={styles.buttonContainer}>\n          <TouchableOpacity onPress={marcarComoFavorito} style={styles.button2}>\n            <Text style={{ color: \"white\", fontWeight: \"bold\" }}>\n              Marcar como favorito\n            </Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            onPress={() => navigation.navigate(\"Favoritos\")}\n            style={styles.button1}\n          >\n            <Text style={{ color: \"white\", fontWeight: \"bold\" }}>\n              Ver Favoritos\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  } else {\n    return (\n      <View>\n        <Text>Cargando Video</Text>\n      </View>\n    );\n  }\n};\n\nexport default Reproductor;\n\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    backgroundColor: \"transparent\",\n  },\n  contentContainer: {\n    paddingHorizontal: 30,\n    marginTop: 50,\n  },\n  body: {\n    paddingTop: 40,\n    textAlign: \"center\",\n    fontSize: 16,\n    color: \"#6d6875\",\n    lineHeight: 30,\n    fontWeight: \"400\",\n  },\n  title: {\n    marginTop: 10,\n    fontSize: 27,\n    fontWeight: \"700\",\n    lineHeight: 25,\n    textAlign: \"center\",\n    color: \"#6d6875\",\n  },\n  title2: {\n    fontSize: 23,\n    fontWeight: \"500\",\n    textAlign: \"center\",\n    color: \"#6d6875\",\n    marginBottom: 50,\n  },\n  buttonContainer: {\n    flexDirection: \"row\",\n    width: \"100%\",\n    borderWidth: 2,\n    borderColor: \"white\",\n    borderRadius: 16,\n    backgroundColor: \"#DFE3E630\",\n    marginTop: 20,\n  },\n  button1: {\n    backgroundColor: \"#26B6F8\",\n    padding: 20,\n    borderRadius: 12,\n    alignItems: \"center\",\n    marginVertical: 30,\n    shadowColor: \"#00b4d8\",\n    shadowOffset: {\n      width: 0,\n      height: 8,\n    },\n    shadowOpacity: 0.44,\n    shadowRadius: 10.32,\n  },\n  button2: {\n    backgroundColor: \"#00b4d8\",\n    padding: 20,\n    borderRadius: 12,\n    alignItems: \"center\",\n    marginVertical: 30,\n    shadowColor: \"#00b4d8\",\n    shadowOffset: {\n      width: 0,\n      height: 8,\n    },\n    shadowOpacity: 0.44,\n    shadowRadius: 10.32,\n  },\n\n  buttonsText: {\n    fontSize: 20,\n    color: \"#030303\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}