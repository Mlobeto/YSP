{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport fondochat from \"../../assets/fondochat.png\";\nimport logo500 from \"../../assets/logo500.png\";\nimport { getDoc, doc, collection } from 'firebase/firestore';\nimport { auth, database } from \"../../FirebaseConfig\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SignInChat = function SignInChat(_ref) {\n  var navigation = _ref.navigation;\n  var screenWidth = Math.round(Dimensions.get('window').width);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isMember = _useState2[0],\n    setIsMember = _useState2[1];\n  useEffect(function () {\n    var checkMembershipStatus = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var user = auth.currentUser;\n          if (user) {\n            var userDocRef = doc(collection(database, 'users'), user.uid);\n            var userDocSnapshot = yield getDoc(userDocRef);\n            if (userDocSnapshot.exists()) {\n              var userData = userDocSnapshot.data();\n              var _isMember = userData.isMember;\n              setIsMember(_isMember);\n              if (_isMember) {\n                navigation.navigate('ChatStack');\n              } else {\n                Linking.openURL('https://www.youtube.com/channel/UCDgXHpJkAlDB5sRz6NrEofw/join');\n              }\n            } else {\n              console.log('No se encontró el documento del usuario');\n            }\n          }\n        } catch (error) {\n          console.error('Error al verificar el estado de membresía:', error);\n        }\n      });\n      return function checkMembershipStatus() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    checkMembershipStatus();\n  }, [navigation]);\n  var handleManageProfile = function handleManageProfile() {\n    navigation.navigate('ChatPerfil');\n  };\n  var handleBecomeMember = function handleBecomeMember() {\n    Linking.openURL('https://www.youtube.com/channel/UCDgXHpJkAlDB5sRz6NrEofw/join');\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Image, {\n      source: fondochat,\n      resizeMode: \"cover\",\n      style: {\n        height: 130,\n        width: screenWidth\n      }\n    }), _jsxs(View, {\n      style: styles.innerContainer,\n      children: [_jsx(Image, {\n        source: logo500,\n        style: styles.logo\n      }), isMember ? _jsx(TouchableOpacity, {\n        onPress: handleManageProfile,\n        children: _jsx(Text, {\n          style: styles.manageProfileButton,\n          children: \"Gestiona tu perfil\"\n        })\n      }) : _jsx(TouchableOpacity, {\n        onPress: handleBecomeMember,\n        children: _jsx(Text, {\n          style: styles.becomeMemberButton,\n          children: \"Hazte miembro\"\n        })\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  innerContainer: {\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'white',\n    borderTopLeftRadius: 80,\n    marginTop: -68,\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: 6,\n    paddingHorizontal: 6,\n    paddingBottom: 6,\n    flexDirection: 'column'\n  },\n  logo: {\n    height: 100,\n    width: 100,\n    marginTop: 20\n  },\n  manageProfileButton: {\n    marginTop: 10,\n    color: 'blue'\n  },\n  becomeMemberButton: {\n    marginTop: 10,\n    color: 'green'\n  }\n});\nexport default SignInChat;","map":{"version":3,"names":["React","useEffect","useState","View","Text","Image","Dimensions","StyleSheet","TouchableOpacity","Linking","fondochat","logo500","getDoc","doc","collection","auth","database","jsx","_jsx","jsxs","_jsxs","SignInChat","_ref","navigation","screenWidth","Math","round","get","width","_useState","_useState2","_slicedToArray","isMember","setIsMember","checkMembershipStatus","_ref2","_asyncToGenerator","user","currentUser","userDocRef","uid","userDocSnapshot","exists","userData","data","navigate","openURL","console","log","error","apply","arguments","handleManageProfile","handleBecomeMember","style","styles","container","children","source","resizeMode","height","innerContainer","logo","onPress","manageProfileButton","becomeMemberButton","create","flex","alignItems","justifyContent","backgroundColor","borderTopLeftRadius","marginTop","paddingTop","paddingHorizontal","paddingBottom","flexDirection","color"],"sources":["C:/Users/merce/Desktop/NuevoYoSoyElPremio/NYSP/src/screens/SignInChat.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, Image, Dimensions, StyleSheet, TouchableOpacity, Linking } from 'react-native';\nimport fondochat from '../../assets/fondochat.png';\nimport logo500 from '../../assets/logo500.png';\nimport { getDoc, doc, collection } from 'firebase/firestore';\nimport { auth, database } from '../../FirebaseConfig';\n\nconst SignInChat = ({ navigation }) => {\n  const screenWidth = Math.round(Dimensions.get('window').width);\n  const [isMember, setIsMember] = useState(false);\n\n  useEffect(() => {\n    const checkMembershipStatus = async () => {\n      try {\n        const user = auth.currentUser;\n        if (user) {\n          const userDocRef = doc(collection(database, 'users'), user.uid);\n          const userDocSnapshot = await getDoc(userDocRef);\n\n          if (userDocSnapshot.exists()) {\n            const userData = userDocSnapshot.data();\n            const isMember = userData.isMember;\n\n            setIsMember(isMember);\n\n            if (isMember) {\n              // El usuario es miembro, navega a 'ChatStack'\n              navigation.navigate('ChatStack');\n            } else {\n              // El usuario no es miembro, muestra un botón para hacerse miembro\n              // y al presionar el botón, abre el enlace para hacerse miembro\n              Linking.openURL('https://www.youtube.com/channel/UCDgXHpJkAlDB5sRz6NrEofw/join');\n            }\n          } else {\n            console.log('No se encontró el documento del usuario');\n          }\n        }\n      } catch (error) {\n        console.error('Error al verificar el estado de membresía:', error);\n      }\n    };\n\n    checkMembershipStatus();\n  }, [navigation]);\n\n  const handleManageProfile = () => {\n    // Manejar la navegación a la pantalla de gestión de perfil\n    navigation.navigate('ChatPerfil');\n  };\n  const handleBecomeMember = () => {\n    Linking.openURL('https://www.youtube.com/channel/UCDgXHpJkAlDB5sRz6NrEofw/join');\n  };\n\n  return (\n    <View style={styles.container}>\n      <Image\n        source={fondochat}\n        resizeMode='cover'\n        style={{ height: 130, width: screenWidth }}\n      />\n      <View style={styles.innerContainer}>\n        <Image source={logo500} style={styles.logo} />\n        {isMember ? (\n          <TouchableOpacity onPress={handleManageProfile}>\n            <Text style={styles.manageProfileButton}>Gestiona tu perfil</Text>\n          </TouchableOpacity>\n        ) : (\n          <TouchableOpacity onPress={handleBecomeMember}>\n            <Text style={styles.becomeMemberButton}>Hazte miembro</Text>\n          </TouchableOpacity>\n        )}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n  },\n  innerContainer: {\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'white',\n    borderTopLeftRadius: 80,\n    marginTop: -68,\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: 6,\n    paddingHorizontal: 6,\n    paddingBottom: 6,\n    flexDirection: 'column',\n  },\n  logo: {\n    height: 100,\n    width: 100,\n    marginTop: 20,\n  },\n  manageProfileButton: {\n    marginTop: 10,\n    color: 'blue',\n  },\n  becomeMemberButton: {\n    marginTop: 10,\n    color: 'green', // Cambia el color según tus necesidades\n  },\n});\n\nexport default SignInChat;\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}